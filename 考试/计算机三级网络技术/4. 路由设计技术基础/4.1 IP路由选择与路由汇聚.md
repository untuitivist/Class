
+ [[3.2 无类域间路由技术(CIDR)]]**支持通过子网划分的相反过程**来汇聚路由表项
+ 无类域间路由协议使用**网络前缀法表示路由表的表项**, 具体路由表的项目表示由**"网络前缀"和"下—跳地址"**两项内容组成
+ 路由选择变为从匹配结果中选择具有最长网络前缀的路由的过程, 这就是**"最长前缀匹配"**的路由选择规则

核心层路由器RG通过两条**串行线路**S1, S0分别与汇聚层路由器RE, RF连接
汇聚层路由器RE通过**以太网接口**与接入层路由器RA, RB连接
汇聚层路由器RF通过**以太网接口**与接入层路由器RC, RD连接

![[Pasted image 20230913200337.png]]

采用**"最长前缀匹配"**的路由选择规则来简化复杂的路由表

| 目的网络: 掩码长度(注: 掩码长度选可用最大值) | 输出端口 |
|:-:|:-:|
| [1] | S0(直接连接) |
| [2] | S1(直接连接) |
| [3] | S0 |
| [4] | S1 |
| [5] | S0 |
| [6] | S1|

[1]
S0: 10.10.13.133 = *10.10.13.100001* 01
S0: 10.10.13.134 = *10.10.13.100001* 10
掩码长度/30 = 10.10.13.100001 00 = 10.10.10.13.132/30

[2]
掩码长度/30 = 10.10.13.100000 00 = 10.10.10.13.128/30

[3]
E2: 10.10.13.56 = *10.10.13.001110* 00
E2: 10.10.13.57 = *10.10.13.001110* 01
E0: 10.10.13.58 = *10.10.13.001110* 10
![[3.1 IP地址分类及子网划分#^1]]
若掩码长度/30 = 10.10.13.001110 00 每个网络内可分配的最大主机数 = $2^{2}-2$ = 2 不可行
掩码长度/29 = 10.10.13.00111 000 = 10.10.13.56与E2冲突
所以掩码长度/28 =10.10.13.0011 0000 = 10.10.13.48/28

[4]
掩码长度/29 = 10.10.13.01001 000 = 10.10.13.72/29

[5]
10.10.64.0: *10.10.010000* 00.000000
10.10.65.0: *10.10.010000* 01.000000
10.10.66.0: *10.10.010000* 10.000000
10.10.67.0: *10.10.010000* 11.000000
掩码长度/22 = 10.10.64.0/22

[6]
掩码长度/22 = 10.10.32.0/22

