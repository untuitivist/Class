---
mindmap-plugin: basic
tags:
  - 目录
---

# 计算机网络基础目录

## 计网体系结构
- 计算机网络概述
	- 概念, 组成, 功能, 分类
		- 概念 ^1896138b-4ccf-fcee
			- 计算机网络是互连的, 自治的计算机集合
		- 功能 ^38661568-1055-8f8b
			- 数据通信
			- 资源共享: 同一个计算机网络上的其他计算机可使用某台计算机的计算机资源的行为, 可共享硬件, 软件, 数据.
			- 分布式处理: 多台计算机各自承担同一工作任务的不同部分 (Hadoop 平台)
			- 可靠性
			- 负载均衡
		- 组成
			- 组成部分:
				- **网络硬件系统**
					- 传输介质
						- **双绞线**
						- **同轴电缆**
						- 光纤
				- **网络软件系统**
				- (协议) ^9bbaf3ef-5008-6875
					- 一系列规则和约定的集合
			- 工作方式:
				- 边缘部分: 用户直接使用
					- 客户-服务器方式(CS)
					- 对等连接方式(P2P)
				- 核心部分: 提供通信和交换服务
					- 网络
					- **路由器**
			- 功能组成:
				- 通信子网: 实现数据通信
				- 资源子网: **提供访问网络和处理数据的能力, 向网络用户提供各种硬件资源和网络服务.**
		- 分类
			- 按**地理覆盖/网络作用范围**分:
				- **广域网**WAN(交换技术)
				- 城域网MAN
				- **局域网**LAN(广播技术)
				- 个人区域网PAN
			- 按交换方式分: 从通信资源的分配角度来看, "交换"就是按照某种方式**动态地分配**传输线路的资源.
				- 电路交换
				- 报文交换 ^268c06df-bd57-9cac
					- 整个报文一下子发出去
				- 分组交换
					- 把报文切割分组, 可以同时多组转发, 接收方再把分组重组成报文
					- **最适合传送计算机数据**
			- 按拓扑结构分: ^28f91945-596d-8c79
				- 总线型
				- 星型
				- 环型
				- 网状型
			- 按传输方式分: ^b45a433a-4672-4c3c
				- 广播式网络: 共享公共通信信道
				- 点对点网络: 使用分组存储转发和路由选择机制
			- 按使用者分: ^fe9e8178-5112-9463
				- 公用网
				- 专用网
		- 计算机网络发展阶段
			- 1.面向终端的计算机网络
			- 2.以通信网为核心的计算机网络
			- 3.**体系结构标准化**的计算机网络
			- 4.网络互联的计算机网络
	- 标准化工作及相关组织
	- 性能指标
		- **速率**
		- **带宽**
		- **吞吐量**
		- **时延**
		- 时延带宽积
		- 往返时间RTT
		- 利用率
- 体系结构&参考模型
	- 分层结构
		- 原因
		- 基本原则 ^fd61d5fc-3f6d-5ce5
			- 1.各层之间相互独立, 每层只实现一种相对独立的功能.
			- 2.每层之间界面自然清晰, 易于理解, 相互交流尽可能少.
			- 3.结构上可分割开. 每层都采用最合适的技术来实现.
			- 4.保持下层对上层的独立性, 上层单向使用下层提供的服务.
		- **好处**
			- **各层之间是独立的, 灵活性好**
			- **易于实现和维护**
			- **能促进标准化工作**
			- **结构上可分割开**
	- 体系结构
		- **计算机网络的各层及其协议的集合**
		- 抽象
	- 协议, 接口, 服务
		- 实体 ^7dbef790-e95e-342f
			- 第n层中的活动元素称为n层实体
			- 同一层的实体叫对等实体
		- 协议
			- 为进行网络中的对等实体数据交换而建立的规则, 标准或约定
			称为网络协议.
			- **三要素**
				- **语法** ^391fded8-c2dc-9d56
					- 规定传输数据的格式
				- **语义** ^965308e8-8199-f4e5
					- 规定所要完成的功能
				- **同步/时序**
					- **规定事件实现顺序**
			- 水平
		- 接口(访问节点SAP) ^3eb38190-d694-b61a
			- 上层使用下层服务的入口
		- 服务 ^18dae5d9-084d-05ef
			- 下层为相邻上层提供的功能调用
			- 竖直
	- ISO/OSI模型(法定标准)
		- 分层 ^ef9f908f-0369-0ebc
			- 资源子网
				- 7.应用层
				- 6.表示层
				- 5.会话层
			- NaN Sub
				- 4.传输层
			- 通信子网
				- 3.网络层
					- 路由器
				- 2.数据链路层
					- 交换机
					- 网桥
				- 1.物理层
					- 集线器
					- 中继器
		- 通信 ^64f8e564-375c-e681
			- ![[images/Pasted image 20240115155120.png]]
			- ![[images/Pasted image 20240115155318.png]]
	- TCP/IP模型(事实标准)
		- 分层
			- **应用层** ^84d9ddfb-7adf-b67e
				- 类比OSI
					- 7.应用层
					- 6.表示层
					- 5.会话层
				- 协议栈
					- HTTP
					- FTP
					- DNS
			- **传输层** ^602e1abf-d8b5-0aa6
				- 类比OSI
					- 4.传输层
				- 协议栈
					- TCP
					- UDP
			- **网际层** ^102add65-85d4-b26b
				- 类比OSI
					- 3.网络层
				- 协议栈
					- IP
			- **网络接口层** ^14cc16ba-d7b0-de15
				- 类比OSI
					- 2.数据链路层
					- 1.物理层
				- 协议栈
					- Ethernet
					- ATM
					- Frame Relay
	- 五层协议体系(集合OSI与TCP/IP)
		- 分层
			- 应用层 ^df5de3ba-cbe2-06fc
				- 类比OSI: 5-7
				- 作用
					- 支持各种网络应用
				- 协议栈
					- HTTP
					- FTP
					- SMTP
			- 传输层
				- 类比OSI: 4
				- 作用
					- 进程-进程的数据传输
						- **保证端到端可靠性**
				- 协议栈
					- TCP
					- **UDP**
						- 用户数据报协议User Datagram Protocol
						- 提供无连接的最大努力的数据传输服务
						- **不保证数据传输的可靠性**, 但是速度快, 实时性好
			- 网络层
				- 类比OSI: 3
				- 作用
					- 源主机到目的主机的数据分组路由与转发
						- 采用**数据报服务**
						- **网络灵活性更好、效率更高**
						- **可能导致分组乱序、丢失**
				- 硬件
					- 路由器
						- **路径选择**
				- 协议栈
					- IP
					- ICMP
					- OSPF
			- 链路层
				- 类比OSI: 2
				- 作用 ^2264165b-8f1b-d368
					- 把网络层传下来的数据报组装成帧
				- 硬件
					- 交换机
					- **网桥**
				- 服务单元
					- **帧**
				- 协议栈
					- Ethernet
					- PPP
			- 物理层 ^91cdb24f-e763-fdca
				- 类比OSI: 1
				- 硬件
					- 集线器
					- 中继器
				- 作用
					- 比特传输

## 物理层

## 数据链路层
- 概念
	- 结点 ^ebded290-1932-5494
		- 主机
		- 路由器
	- 链路 ^f90d1aca-4f36-1ac1
		- 网络中两个结点之间的物理通道
		- 传输介质
			- 双绞线
			- 光纤
		- 分类
			- 有线链路
			- 无线链路
	- 数据链路
		- 网络中两个结点之间的逻辑通道
		- 把实现控制**数据通信协议**的硬件和软件加到链路上就构成数据链路
	- 帧 ^cd81d392-1be4-d5c4
		- 链路层的协议数据单元
		- 封装网络层数据报
	- 数据链路层负责通过一条链路从一个结点向另一个物理链路直接相连的相邻结点传送数据报
	- 数据链路层的主要目的是**将原始的, 有差错的物理线路变为无差错的数据链路**
- 功能
	- 封装成帧和透明传输
		- 封装成帧 ^dfadd071-077f-9be7
			- 封装成帧就是在一段数据的前后部分添加首部和尾部, 这样就构成了一个帧. 接收端在收到物理层上交的比特流后, 就能根据首部和尾部的标记, 从收到的比特流中识别帧的开始和结束.
		- 透明传输
	- 差错检测
		- 差错由噪声引起 ^9f45c581-bcd3-9611
			- 随机热噪声
			- 冲击噪声
		- 差错类型
			- 帧错
			- 位错/比特错
				- 差错控制
					- 检错编码
						- 奇偶校验码
						- **CRC循环冗余码**
							- ![[images/Pasted image 20240115213805.png]]
							- ![[images/Pasted image 20240115214055.png]]
							- 与位串101101对应的多项式为: $x^5+x^3+x^2+1$
							- **无法发现所有可能的差错, 保证数据无差错传输**
					- 纠错编码 ^d812c5c3-0a4d-c7e6
						- 海明码
	- 流量控制
	- 可靠传输
- 应用
	- 两种链路/信道
		- 广域网WAN(点对点信道)
			- PPP协议
				- **互联网环境中常用的数据链路层协议**
				- 组成部分
					- 网络控制协议NCP ^8b7eee68-a2ba-e6cd
						- 建立配置不同的网络层协议
					- 链路控制协议LCP
						- **建立, 配置, 管理与测试数据链路连接**
					- 数据宝封装到串行链路
				- 帧格式
					- 帧首部 ^1e6e2865-97c5-5d02
						- 5B
					- 数据载荷
						- **<=1500B**
					- 帧尾部 ^ce00de27-93d9-ac8f
						- 3B
				- 透明传输 ^731cee9c-6d86-fe08
					- 异步链路
						- 字节填充
					- 同步链路
						- 零比特填充
		- 局域网LAN(广播信道)
			- 分类
				- 以太网Ethernet
					- 概述
					- 无连接, 不可靠服务
						- 数据发送流程
							- 载波侦听
							- 冲突检测
								- 最大传输延时为T
								- **冲突窗口为2T**
					- 适配器与MAC地址
						- MAC地址
							- 每个适配器有一个全球唯一的48位二进制地址, 前24位代表厂家(由IEEE规定). 后24位厂家自己指定.
							- 48b, 常用**6个十六进制数**表示, 如02-60-8c-e4-b1-21
						- 网卡
							- 实现**物理层与链路层**功能
					- MAC帧格式
						- 用**类型**字段标识上层协议的类型
						- **以太网最短有效帧长**
							- **64字节**
								- **数据字段最小46位, 不够需要上层填充**
									- **上层交给以太网的数据如果长度小于46字节将不能传输**
						- **以太网最长有效帧长**
							- **1518字节**
						- IP层 ^799d5e8d-6370-01a3
							- \                    +                     +                 +                   +IP数据报(46~1500b)+           \
						- MAC层 ^c4c422fb-000f-9dca
							- \               +目的地址(6b)+源地址(6b)+长度/类型(2b)+数据(46~1500b)+帧校验(4b)
						- 物理层 ^d0e9eef7-9839-285c
							- 前导码(8B)+目的地址(6b)+源地址(6b)+长度/类型(2b)+数据(46~1500b)+帧校验(4b)
				- 无线局域网WLAN
				- 虚拟局域网VLAN
					- 将局域网内的设备划分成与物理位置无关的逻辑组, 这些逻辑组有某些共同的需求
					- 每个VLAN是一个单独的广播域/不同的子网
					- 以**软件**的方式实现逻辑工作组的划分与管理
					- 结点构成**不受**物理位置的限制
					- **局域网交换机**上生成的各VLAN互不相通, 若想实现通信, 需要借助
						- 路由器
						- 三层交换机
			- 链路层的两个控制子层
			- 局域网的特点
			- 介质访问控制
				- 静态划分信道 ^94cea5b0-d0f6-ae40
					- 信道划分介质访问控制
						- 频分多路复用FDM
						- 时分多路复用TDM
						- 波分多路复用WDM
						- 码分多路复用CDM
				- 动态划分信道
					- 轮询访问介质访问控制 ^37e03aa4-7ed1-f67c
						- 令牌传递协议
					- 随机访问介质访问控制
						- ALOHA协议
						- CSMA协议
						- **CSMA/CD协议**
							- CS: 载波侦听/监听
								- 每一个站在发送数据之前以及发送数据时都要检测一下总线上是否有其他计算机在发送数据
							- MA: 多点接入 ^890f2b69-2b00-1d51
								- 许多计算机以多点接入的方式连接在一根总线上
								- 总线型网络
							- CD: 碰撞检测(冲突检测)
								- 边发送边监听, 适配器边发送数据边检测信道上信号电压的变化情况, 以便判断自己在发送数据时其他站是否也在发送数据
								- **冲突退避**
									- **二进制指数退避算法**
										- $\text{再次尝试重发该帧前等待的最长时间}=(2^{\text{连续冲突次数}-1}+\cdots+1)\times \text{以太网的争用期时间片}$
								- 半双工网络
							- 传播时延
								- **双向传播时延**
									- $\dfrac{最小帧长字节形式(bit)}{带宽(pbs)}$
								- **单向传播时延(传播时延)**
									- $\dfrac{双向传播时延}{2}$
						- CSMA/CA协议
			- **决定局域网特性的三要素**
				- **传输介质**
				- **拓扑结构**
					- 星型结构 ^8eb4eb39-44b6-2a9c
						- 优点
							- 中心节点是控制中心
							- 任意两个节点间的通信最多只需两步
							- 传输速度快
							- 网络构形简单
							- 建网容易
							- 便于控制和管理
						- 缺点
							- 网络可靠性低
							- 网络共享能力差
							- 单点故障问题
					- 环形拓扑 ^5ad8bd7e-4348-d215
						- 优点
							- 系统中通信设备和线路比较节省
						- 缺点
							- 由于环路是封闭的，所以不便于扩充
							- 系统响应延时长
							- 信息传输效率相对较低
							- 单点故障问题
					- 树型拓扑 ^01dc7f74-8cc3-094f
						- 优点
							- 易于拓展
							- 易于隔离故障
						- 缺点
							- 单点故障问题
					- 总线型拓扑
						- **所有结点接到一条作为公共传输介质的总线上**
						- **传输介质通常采用同轴电缆和双绞线**
						- **所有结点以广播方式发送数据**
						- 优点 ^b07dbe6f-6844-17b2
							- 网络可靠性高
							- 网络节点间响应速度快
							- 共享资源能力强
							- 设备投入量少成本低
							- 安装使用方便
							- 当某个工作站节点出现故障时, 对整个网络系统影响小
						- 缺点
				- **介质访问控制方法(协议)** ^633d508c-c865-0fcf
					- CSMA/CD
					- 令牌总线
					- 令牌环
	- 链路层设备
		- 物理层扩展以太网 ^64c43b17-bbde-4cf2
			- 光纤
			- 主干集线器
		- 链路层扩展以太网
			- **网桥**
				- **实现网络互连功能**
				- 广播风暴
			- 交换机(多接口网桥)
				- 数据帧的三种转发模式
					- **直接交换**
						- 只要接收并检测到**目的地址字段**后就立即将该帧转发出去,而不管这一帧数据是否出错
					- **改进的直接交换**
						- 收到帧的**前64字节**后, 判断帧头字段是否正确, 如果正确则转发
						- **结合了直接交换与存储转发交换的优点**
					- **存储转发交换**
						- 交换机接收完整的数据帧进行CRC检查后才开始转发过程, 延迟大
						- **对接收的帧进行差错检测**
				- **转发帧**
					- 查到MAC
						- **转发对应接口**
					- 没查到
						- **转发所有其他接口**
					- 查到目标为**入口**
						- **丢弃**
				- 自学习功能
					- 记录**发送**帧的**源MAC地址**与接口于转发表
					- **工作时不需要MAC地址**
		- 冲突域和广播域
			- 冲突域
				- 在同一个冲突域中的每一个节点都能收到所有被发送的帧
					- 交换机的每一个端口都处于同一个**冲突**域
				- 同一时间内只能有一台设备发送信息的范围
				- 能否隔离 ^3e727f43-76b4-ebe1
					- 物理层设备(集线器, 中继器)
						- 否
					- 链路层设备(网桥, 交换机)
						- 能
					- 网络层设备(路由器)
						- 能
			- 广播域
				- 网络中能接收任一设备发出的广播帧的所有设备的集合
				- 如果站点发出一个广播信号, 所有能接收收到这个信号的设备范围称为一个广播域
				- 能否隔离
					- 物理层设备(集线器, 中继器) ^3f2abb35-9789-6bcd
						- 否
					- 链路层设备(网桥, 交换机)
						- **否**
					- 网络层设备(路由器) ^dba318ba-c492-6457
						- 能

## 网络层
- 概述和功能
	- 概述
		- **信息传输的基本单元**
			- **数据分组**
	- 功能
		- **路由选择**
		- **分组转发**
- 路由选择
	- 路由选择
		- 静态路由 ^1913e19d-addc-305b
			- 管理员手工配置路由信息
		- 动态路由
			- 路由器间彼此交换信息, 按照路由算法优化出路由表项
			- 动态路由选择协议
				- **内部网关协议**
					- **距离向量路由算法RIP**
						- 路由表更新
							- ![[images/Pasted image 20240117011152.png|500]]
					- **链路状态路由算法OSPF**
				- 外部网关协议P
					- BGP
			- **自适应路由选择**
			- **能较好地适应网络状态的变化**
			- **安全性不如静态路由**
			- **实现较为复杂，开销较大**
	- IP组播
- 转发
	- 硬件结构
		- 路由器
			- 连接不同网段, 负责不同网段之间的数据转发
				- **每个局域网数据链路层协议和物理层协议都可以不同**
			- 交换机(链路层) ^153a9740-3dfc-c1c0
				- 连接的是同一网段的计算机, 各台主机标识均不同
			- **转发时源IP地址和目的IP地址不变**
		- 路由表
	- 协议
		- IP
			- **互联网中所有端系统和路由器都必须实现**
			- 采用IP互连后, 网络内主机之间可以用IP协议相互通信, 逻辑上在一个网络内. 但是数据传输可能经过多段不同的数据链路转发, 主机处于不同的物理网络内, 因此, IP网络是一个虚拟的统一的网络.
		- ARP
			- 完成主机或路由器**IP地址到MAC地址**的映射
			- 解决下一跳走哪的问题
				- 表有
					- **不请求**直接转发
				- 表无
					- **广播请求**分组, 写入表
						- **将ARP请求封装到以太网帧, 目的MAC地址为“FF-FF-FF-FF-FF-FF”**
						- **所有主机都会收到ARP请求, 目标主机应答**
		- ICMP
			- 差错报告
				- **差错报文**
					- 终点不可达
					- 超时
					- 参数问题
					- 重定向(改变路由)
				- **windows中的路由跟踪命令tracert**
					- **终点不可达**
					- **超时**
					- **重定向(改变路由)**
			- 网络探询
				- **询问报文**
					- 回送请求和回答报文
						- Ping
					- 时间戳请求和回答报文
	- IP数据报
		- **TCP/IP网络层采用数据报服务, 使得网络灵活性更好, 效率更高**
		- 格式
			- ![[images/Pasted image 20240117001431.png]]
				- 首部
					- 版本(4B) ^1e378235-4701-333e
						- IPv4
						- IPv6
					- 首部长度(4B)
					- 区分服务(8B)
					- 总长度(8B)
					- 生存时间(TTL)
						- **IP分组的保质期**
						- 经过一个路由器-1, 变成0则丢弃
				- 数据部分
		- 分片
			- **首部(固定20B, 可变0B)+数据报(<=1400B)=数据报片总长度<=以太网MTU(1420B)或其他MTU**
				- **片偏移以8个字节为偏移单位, 每个分片长度一定是8字节的整数倍, 首部>=20B**
			- **DF**: 能否分片
				- 0
				- 1
			- **MF**: 本数据报片后是否还有数据报片
				- 0
				- 1
			- **片偏移**
				- $\dfrac{\text{本数据报片前的数据部分长度}}{8B}$
			- 数据报片=首部+分片
		- 检验
			- **只检验数据报的首部部分, 而不检验数据部分**
	- IPv4
		- 网络地址转换NAT ^c361722c-9a7d-9d3a
			- 在专用网连接到因特网的路由器上安装NAT软件, 安装了NAT软件的路由器叫NAT路由器, 它至少有一个有效的外部全球IP地址
			- ![[images/Pasted image 20240116164445.png]]
		- 网络层编址
			- 基本编址形式
				- IPv4地址 ^1f961e41-9fd5-6920
					- 给Internet上的主机分配的一个32位的地址
						- 用4个八位转点分十进制表示
					- 用来定位计算或网络设备
				- MAC地址和IP地址 ^cf78267a-d3ab-15df
					- 目标IP地址指向最终到达的计算机, 目标MAC地址指向下一跳接收设备
				- 分类
					- ![[images/Pasted image 20240116162537.png|500]]
						- **A**
						- **B**
						- **C**
						- D
						- E
				- **特殊IP地址**
					- ![[images/Pasted image 20240116162643.png|500]]
						- **255.255.255.255 广播地址, 路由器不转发**
			- 子网划分与子网掩码
				- IP地址组成 ^f9e70002-aea9-eaac
					- 前面为网络标识, 后面为主机标识
					- 同一网段的网络标识相同
				- 子网掩码 ^75b209dc-3911-08d6
					- 32位, 将IP地址划分成网络地址和主机地址两部分
					- 用左起多个连续的1对应IP地址中的网络号和子网号
					- 之后的多个连续的0对应IP地址中的主机号
					- 表示
						- 单独以点分十进制给出
				- 网络地址与主机地址 ^22b15dd2-6bc1-45a3
					- 网络号(网络地址)
						- IP地址保留子网掩码为1的位数, 其余变0
					- 主机号
						- IP地址保留子网掩码为0的位数, 其余变0
				- CIDR
					- 表示 ^07c2a5a3-7d24-23e1
						- 在IP地址后以"/网络前缀"给出
						- 网络前缀
							- 子网掩码1的位数
					- **能够连接主机数量**
						- $2^{\text{0的个数}}-2$
							- 不算全0全1
								- 全0
									- 本机
								- 全1
									- 广播
					- 子网聚合 ^f1f89525-c918-4465
						- 子网掩码取交集
						- 网络号/新网络前缀
					- 最长前缀匹配
				- **相邻子网**
					- 网络号在第**网络前缀**位$\pm1$
	- IPv6
	- 移动IP

## 传输层
- 概述
	- **通信部分的最高层**
	- **用户功能中的最低层**
- UDP
	- 不靠谱
		- **应用层**协议必须承担可靠性方面的全部工作
			- **DNS协议使用的运输层协议**
	- UDP只在IP数据报服务之上增加了很少功能 ^5f8ebbde-92aa-dcad
		- 复用分用
		- 差错检测
	- 特点 ^8391bab4-afa6-e552
		- 无连接
		- 不保证可靠交付
		- 面向报文
			- 适合一次性传输少量数据的网络应用
		- 无拥塞控制
		- 首部开销小(8B, TCP20B)
	- 格式
		- 伪首部
			- 源IP地址
			- 目的IP地址
			- 作用
				- **计算检验和**
		- **首部(8B)**
			- 16位源端口号(2B)
				- **可以为全0**
			- 16位目的端口号(2B)
			- 16位UDP长度(2B)
			- 16位UDP检验和(2B)
				- **源IP地址**
				- **目的IP地址**
				- **UDP头部**
				- **数据**
		- 数据
	- UDP校验
- TCP
	- 靠谱
	- 特点
		- 面向连接
		- 面向字节流
		- 点对点, 一对一
		- 可靠有序, 不丢不重
		- 全双工
			- 发送缓存 ^e1749588-3f38-ac25
				- 准备发送的数据
				- 已发送但尚未收到确认的数据
			- 接收缓存 ^d4557cad-0dc0-2726
				- 按序到达但尚未被接受应用程序读取的数据
				- 不按序到达的数据
			- 采用**端口号**来区分主机不同的**应用进程**
				- **在建立了一条TCP连接两个端口间新建立一个TCP连接**
					- **建立失败, 不影响先前建立连接的传输**
			- 采用**IP地址**来区分不同**主机**
	- 格式
		- 首部(4字节整数倍>=20B)
			- ![[images/Pasted image 20240117012350.png]]
				- **序号seq**
					- 在一个TCP连接中传送的字节流中的每一个字节都按顺序编号
					- 本字段表示**本报文段所发送数据的第一个字节的序号**
				- 确认号ack
				- 源端口
				- 目的端口
				- 数据偏移
				- 保留
				- 6个控制位 ^3d7c0761-5ef6-b610
					- 紧急位URG
					- 确认位ACK
					- 推送位PSH
					- 复位RST
					- 同步位SYN
					- 终止位FIN
				- 窗口
					- 指的是发送本报文段的一方的接收窗口, 即现在**允许对方发送的数据量xB**
				- 检验和
				- 紧急指针
				- 选项
				- 填充
		- 数据
	- 连接管理
		- TCP连接的建立采用客户服务器方式, 主动发起连接建立的应用进程叫做客户, 而被动等待连接建立的应用进程叫服务器.
		- 连接建立(三次握手)
			- 客户端发送连接请求报文段, 无应用层数数据
				- 客户端
				- SYN=1
				- seq=x(随机)
			- 服务器端为该TCP连接分配缓存和变量, 并向客户端返回确认报文段, 允许连接, 无应用层数据
				- SYN=1
				- ACK=1
				- seq=y(随机)
				- ack=x+1
				- 服务器端
			- 客户端为该TCP连接分配缓存和变量, 并向服务器端返回确认的确认, **不携带数据不消耗序号, 携带数据消耗序号**
				- 客户端
				- SYN=0
				- ACK=1
				- seq=x+1
				- ack=y+1
		- 数据传输
		- 连接释放(四次握手) ^77a8ddc9-d9e1-c830
			- 客户端发送连接释放报文段, 停止发送数据, 主动关闭TCP连接
				- 客户端
				- FIN=1
				- seq=u
			- 服务器端回送一个确认报文段, 客户到服务器这个方向的连接就释放了--半关闭状态
				- 服务器端
				- ACK=1
				- seq=v
				- ack=u+1
			- 服务器端发完数据, 就发出连接释放报文段, 主动关闭TCP连接
				- 服务器端
				- FIN=1
				- ACK=1
				- seq=v+n=w
				- ack=u+1
			- 客户端回送一个确认报文段, 再等到时间等待计时器设置的2MSL(最长报文段寿命)后, 连接彻底关闭
				- 客户端
				- ACK=1
				- seq=u+1
				- ack=w+1
	- 可靠传输
		- 连续ARQ协议
			- **GBN协议**
			- 停止等待协议
			- 确认捎带技术
				- 确认号中捎带**下一个希望接收的报文**的序号以减少通信量
		- **选择重传协议**
			- **保存全部帧, 返回所有确认号**
	- 流量控制
	- **拥塞控制**

## 应用层
- 基本概念
	- 网络应用模型
		- C/S
		- P2P
- 应用程序
	- 万维网与HTTP
		- 万维网WWW
			- **URL**
				- **WWW上的每一个网页独立的地址**
			- HTTP
				- http//主机名(www\.baidu\.com)
			- HTML
		- HTTP协议
			- 特点
				- 定义的**web客户端和web服务器**之间的通信
				- **支持WWW应用, 服务端口号: 80**
				- **使用TCP**
			- 连接方式
			- 报文结构
	- 域名解析系统DNS
		- 域名服务器
			- **多个域名可指向同一个主机IP地址**
			- **域名在不同时期可能解析出不同的IP地址**
			- 根
				- 顶级域名
					- 二级域名
						- ...
					- .edu.cn
					- ...
				- .cn
				- ...
		- 域名解析过程
			- 解析**主机名和IP地址**
			- 递归
			- 迭代
		- **基于C/S模式**
		- **方便用户记忆**
	- 文件传输FTP
		- **建立在TCP之上的数据连接**
		- **缺省端口号: 21**
		- 服务器进程
			- 主进程
				- **接受新的请求**
	- 电子邮件
		- 信息格式
		- 结构
			- @之后的字符通常为**邮件服务器域名**
		- 协议
			- SMTP
				- 发送邮件
				- **使用TCP**
			- POP3
				- **接收**邮件
			- IMAP
			- HTTP
		- MIME
		- 基于万维网的电子邮件
- DHCP
	- **Internet网络中提供动态IP地址分配**
	- **使用了无连接传输服务**